extends ../template.pug

block style
  link(
    rel='stylesheet'
      href='/css/projects.css'
  )
	
block script
  script(src='/js/projects.js')
	
block main
  div(class='page-header')
    svg(class='hidden-xs-down')
      rect
      circle
    h1 Triton Projects

  div(class='container page-intro')
    div(class='row')
      p(class='col-sm-10 offset-sm-1')  Computing students create impressive bodies of work throughout their time at UC San Diego, whether for classes, internships, or just for fun.

  div(class='page-blurb container-fluid')
    h1 Explore what these Tritons have created

  section
    div(class='container')
      div(class='row align-items-start')
        div(class='nice-sidebar col-lg-3')
          div(class='margin')
          a(class='flip-on-click' data-toggle='collapse' data-target='#tags') Project Types
            i(class='fa fa-chevron-up')
          ul(id='tags' class='collapse show')
            div(class='row')
              each t in projectTags
                li(class='col-12 col-sm-6 col-md-4 col-lg-12 no-select') #{t}
                
        div(class='col-lg-9')
          - for(let i = 0; i < projects.length; i++)
            a(class='filtered' data-toggle='modal' data-target='#proj-modal' data-projectName=`${projects[i].name}`)
              div(class='projectcard')
                img(src=`/img/projectImages/${projects[i].imageFolder}/1.jpg` alt='+')
                div(class='cardinfo')
                  p(class='project-name') #{projects[i].name}
                  p(class='project-creator') #{projects[i].organization}
                  div(class='tags')
                    each t in projects[i].tags
                      span(class='tag') #{projectTags[t]}
                  i(class='fa fa-expand')

            div(class='modal fade' id='proj-modal' tabindex='-1' role='dialog' aria-hidden='true')
              div(class='modal-dialog' role='document')

                div(class='modal-content')

                  div(class='modal-header')
                    h3(id='title' class='project-title bold') #{projects[i].name}
                    button(type="button" class="close" data-dismiss="modal" aria-label="Close")
                      span(aria-hidden="true") &times;

                  div(class='modal-body')

                    div(class='container-fluid')

                      div(class='row slideshow')
                        div(id='proj-carousel' class='carousel slide offset-lg-1 col-lg-10 col-12' data-ride='carousel' data-interval='false')

                          div(class="carousel-inner" role="listbox")
                            - for(let j = 0; j < projects[i].videos.length; ++j)
                              div(class='carousel-item' class = j === 0 && projects[i].videos.length > 0 ? 'active' : '')
                                iframe(height='487px' width='730.5' src=`${projects[i].videos[j]}`)
                            - for(let j = 0; j < projects[i].images.length; j++)
                              div(class='carousel-item' class = j === 0 && projects[i].videos.length === 0 ? 'active' : '')
                                img(src=`${projects[i].images[j]}`)
                            
                        
                        a(class='carousel-control-prev' data-slide='prev' href='#proj-carousel')
                          i(class='fa fa-arrow-left fa-2x' aria-hidden='true')
                          span(class='sr-only') Previous
                        a(class='carousel-control-next' data-slide='next' href='#proj-carousel')
                          i(class='fa fa-arrow-right fa-2x' aria-hidden='true')
                          span(class='sr-only') Next


                      div(class='row proj-info')

                        div(class='project-description col-lg-7')
                          p.description-title DESCRIPTION
                          pre
                            p.description #{projects[i].description}


                        div(class='project-details offset-lg-1 col-lg-4')

                          div(class='detail-item')
                            p.description-title ORGANIZATION / CLASS CODE
                            p.description #{projects[i].organization}

                          div(class='detail-item')
                            p.description-title PROJECT MEMBERS
                            - for(let j = 0; j < projects[i].members.length; j++)
                              p.description #{projects[i].members[j]}

                          div(class='detail-item')
                              p.description-title PROJECT TYPE
                              each t in projects[i].tags
                                span(class='tag') #{projectTags[t]}

                          if !(projects[i].link===false)
                            div(class='detail-item')
                              p.description-title MORE INFORMATION
                              a(class='link' href=`${projects[i].link}`) Find out more    
                                i(class='fa fa-arrow-right')